{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}

{# 
  Errors section for top of page that parsed validation errors
    errors - validation errors object { fieldName: { text: 'error', href: 'fieldlink'}}
#}
{% macro errorSummary(errors, titleText = "There is a problem") %}
  {% if errors %}
    {% 
      set errorList = []
    %}
    
    {% for key, value in errors %}
      {% set errorList = ( errorList.push(value), errorList) %}
    {% endfor %}

    {{ govukErrorSummary({
        titleText: titleText,
        errorList: errorList
      }) }}
  {% endif %}
{% endmacro %}